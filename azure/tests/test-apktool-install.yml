trigger:
  branches:
    include:
    - '*'  # must quote since "*" is a YAML reserved character; we want a string
  paths:
    include:
    - azure/steps/apktool-install.yml
    - azure/tests/test-apktool-install.yml

pool:
  vmImage: 'windows-latest'

variables:
  - template: test-variables.yml
  - name: test_variable_1_name
    value: 'variable1'
  - name: test_variable_1_value
    value: 'output value'

stages:
  - stage: Test_ApkTool_Install
    pool:
      vmImage: 'windows-latest'

    jobs:
    - job: ApkTool_Install
      steps:
        - template: ../steps/apktool-install.yml
          parameters:
            name: ApkTool

        - template: ../steps/checks/check-variable-value.yml
          parameters:
            name: OutputCheck
            variable_to_check: 'ApkTool.apktool_bat_variable'
            expected_value: '$(Pipeline.Workspace)\apktool\apktool.bat'


